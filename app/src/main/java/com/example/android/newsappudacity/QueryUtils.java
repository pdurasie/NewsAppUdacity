package com.example.android.newsappudacity;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class QueryUtils {

    final static String SAMPLE_GUARDIAN_JSON = "{\"response\":{\"status\":\"ok\",\"userTier\":\"developer\",\"total\":25723,\"startIndex\":1,\"pageSize\":10,\"currentPage\":1,\"pages\":2573,\"orderBy\":\"relevance\",\"results\":[{\"id\":\"world/2019/sep/24/france-debates-law-lesbians-single-women-ivf\",\"type\":\"article\",\"sectionId\":\"world\",\"sectionName\":\"World news\",\"webPublicationDate\":\"2019-09-24T16:11:10Z\",\"webTitle\":\"France debates law to let lesbians and single women have IVF\",\"webUrl\":\"https://www.theguardian.com/world/2019/sep/24/france-debates-law-lesbians-single-women-ivf\",\"apiUrl\":\"https://content.guardianapis.com/world/2019/sep/24/france-debates-law-lesbians-single-women-ivf\",\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"us-news/2019/jul/31/healthcare-democrats-2020-debates-detroit\",\"type\":\"article\",\"sectionId\":\"us-news\",\"sectionName\":\"US news\",\"webPublicationDate\":\"2019-07-31T19:39:21Z\",\"webTitle\":\"Democratic debates: how healthcare is defining and dividing 2020 candidates\",\"webUrl\":\"https://www.theguardian.com/us-news/2019/jul/31/healthcare-democrats-2020-debates-detroit\",\"apiUrl\":\"https://content.guardianapis.com/us-news/2019/jul/31/healthcare-democrats-2020-debates-detroit\",\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"commentisfree/2019/may/11/missing-ingredient-debates-generosity-labour-antisemitism\",\"type\":\"article\",\"sectionId\":\"commentisfree\",\"sectionName\":\"Opinion\",\"webPublicationDate\":\"2019-05-11T05:00:12Z\",\"webTitle\":\"The missing ingredient in today’s debates? Generosity | Gary Younge\",\"webUrl\":\"https://www.theguardian.com/commentisfree/2019/may/11/missing-ingredient-debates-generosity-labour-antisemitism\",\"apiUrl\":\"https://content.guardianapis.com/commentisfree/2019/may/11/missing-ingredient-debates-generosity-labour-antisemitism\",\"isHosted\":false,\"pillarId\":\"pillar/opinion\",\"pillarName\":\"Opinion\"},{\"id\":\"us-news/2019/jun/26/democratic-debate-2019-watch-2020-election-when-where-who\",\"type\":\"article\",\"sectionId\":\"us-news\",\"sectionName\":\"US news\",\"webPublicationDate\":\"2019-06-27T20:23:02Z\",\"webTitle\":\"Democratic debates 2019: everything you need to know\",\"webUrl\":\"https://www.theguardian.com/us-news/2019/jun/26/democratic-debate-2019-watch-2020-election-when-where-who\",\"apiUrl\":\"https://content.guardianapis.com/us-news/2019/jun/26/democratic-debate-2019-watch-2020-election-when-where-who\",\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"us-news/2019/sep/10/presidential-debates-2020-houston-gun-control\",\"type\":\"article\",\"sectionId\":\"us-news\",\"sectionName\":\"US news\",\"webPublicationDate\":\"2019-09-10T06:00:42Z\",\"webTitle\":\"As Houston readies to host the next 2020 debates, focus turns to gun control\",\"webUrl\":\"https://www.theguardian.com/us-news/2019/sep/10/presidential-debates-2020-houston-gun-control\",\"apiUrl\":\"https://content.guardianapis.com/us-news/2019/sep/10/presidential-debates-2020-houston-gun-control\",\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"commentisfree/2019/jun/29/democratic-debate-kamala-harris-elizabeth-warren-trump\",\"type\":\"article\",\"sectionId\":\"commentisfree\",\"sectionName\":\"Opinion\",\"webPublicationDate\":\"2019-06-29T10:00:46Z\",\"webTitle\":\"Who won the Democratic debates? Kamala Harris, Elizabeth Warren – and Trump | Cas Mudde\",\"webUrl\":\"https://www.theguardian.com/commentisfree/2019/jun/29/democratic-debate-kamala-harris-elizabeth-warren-trump\",\"apiUrl\":\"https://content.guardianapis.com/commentisfree/2019/jun/29/democratic-debate-kamala-harris-elizabeth-warren-trump\",\"isHosted\":false,\"pillarId\":\"pillar/opinion\",\"pillarName\":\"Opinion\"},{\"id\":\"us-news/2019/jul/18/democratic-debates-biden-harris-bernie-warren-2020\",\"type\":\"article\",\"sectionId\":\"us-news\",\"sectionName\":\"US news\",\"webPublicationDate\":\"2019-07-19T01:45:58Z\",\"webTitle\":\"Democratic debates: Biden and Harris will face off again in second round\",\"webUrl\":\"https://www.theguardian.com/us-news/2019/jul/18/democratic-debates-biden-harris-bernie-warren-2020\",\"apiUrl\":\"https://content.guardianapis.com/us-news/2019/jul/18/democratic-debates-biden-harris-bernie-warren-2020\",\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"us-news/2019/jun/26/us-briefing-border-patrol-chief-quits-democrat-debates-and-mueller\",\"type\":\"article\",\"sectionId\":\"us-news\",\"sectionName\":\"US news\",\"webPublicationDate\":\"2019-06-26T10:27:06Z\",\"webTitle\":\"US briefing: border patrol chief quits, Democrat debates and Mueller\",\"webUrl\":\"https://www.theguardian.com/us-news/2019/jun/26/us-briefing-border-patrol-chief-quits-democrat-debates-and-mueller\",\"apiUrl\":\"https://content.guardianapis.com/us-news/2019/jun/26/us-briefing-border-patrol-chief-quits-democrat-debates-and-mueller\",\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"politics/2019/jun/21/jeremy-hunt-calls-for-live-tv-debates-before-tory-voting-begins\",\"type\":\"article\",\"sectionId\":\"politics\",\"sectionName\":\"Politics\",\"webPublicationDate\":\"2019-06-21T21:30:54Z\",\"webTitle\":\"Jeremy Hunt calls for live TV debates before Tory voting begins\",\"webUrl\":\"https://www.theguardian.com/politics/2019/jun/21/jeremy-hunt-calls-for-live-tv-debates-before-tory-voting-begins\",\"apiUrl\":\"https://content.guardianapis.com/politics/2019/jun/21/jeremy-hunt-calls-for-live-tv-debates-before-tory-voting-begins\",\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"commentisfree/2019/aug/03/democratic-debates-control-trump-campaign\",\"type\":\"article\",\"sectionId\":\"commentisfree\",\"sectionName\":\"Opinion\",\"webPublicationDate\":\"2019-08-03T10:00:46Z\",\"webTitle\":\"The Democratic party must control the debates – or they play into Trump's hands | Cas Mudde\",\"webUrl\":\"https://www.theguardian.com/commentisfree/2019/aug/03/democratic-debates-control-trump-campaign\",\"apiUrl\":\"https://content.guardianapis.com/commentisfree/2019/aug/03/democratic-debates-control-trump-campaign\",\"isHosted\":false,\"pillarId\":\"pillar/opinion\",\"pillarName\":\"Opinion\"}]}}";

    public static Story parseJSON() {
            try {
                JSONObject guardianJsonString = new JSONObject(SAMPLE_GUARDIAN_JSON);
                JSONObject guardianResponse = guardianJsonString.getJSONObject("response");
                JSONArray guardianResults = guardianResponse.getJSONArray("results");
                JSONObject currentResult = guardianResults.getJSONObject(0);

                String title = currentResult.getString("webTitle");
                String section = currentResult.getString("sectionName");
                return new Story(title, section);

            } catch (JSONException e) {
                e.printStackTrace();
            }
            return new Story("Failure", "Miserable");
    }



}
